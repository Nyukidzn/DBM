{
  "name": "perms",
  "permissions": "NONE",
  "restriction": "1",
  "_id": "cRtOq",
  "actions": [
    {
      "behavior": "1",
      "interpretation": "1",
      "code": "const {\n    stripIndents\n} = this.getWrexMods()\n    .require('common-tags');\n\nconst prefix = (msg.content.startsWith(String(me))) ? String(me) : (server && server.tag) || Files.data.settings.tag;\nconst text = msg.content.slice(prefix.length)\n    .trim()\n    .split(/ +/g);\ntext.shift();\nconst mem = text.join(' ');\nlet infoMem;\n\nif (!mem) {\n    infoMem = msg.member;\n} else {\n    infoMem = msg.mentions.members.first() || server.members.find(m => m.id === `${mem}`) || server.members.find(m => m.displayName.toUpperCase() === `${mem.toUpperCase()}`) || server.members.find(m => m.user.username.toUpperCase() === `${mem.toUpperCase()}`) || server.members.find(m => m.user.username.toLowerCase()\n        .includes(`${mem.toLowerCase()}`));\n}\n\nconst yes = \"<:approved:622961998807826432>\";\nconst no = \"<:denied:622961970093752320>\";\n\nif (infoMem.permissions.has('ADMINISTRATOR')) {\n    const embed = new DiscordJS.RichEmbed();\n    embed.setColor('#2BFED5');\n    embed.setAuthor(infoMem.displayName, infoMem.user.displayAvatarURL);\n    embed.setFooter(`Requested by: ${member.displayName}`);\n    embed.setTimestamp();\n\n    // General Perms\n    embed.addField(`➢ __General Permissions:__`, stripIndents `\n    \\`Administrator\\`| ${yes}\n    `, true);\n\n    msg.channel.send(embed);\n} else {\n    const embed = new DiscordJS.RichEmbed();\n    embed.setColor('#2BFED5');\n    embed.setAuthor(infoMem.displayName, infoMem.user.displayAvatarURL);\n    embed.setFooter(`Requested by: ${member.displayName}`);\n    embed.setTimestamp();\n\n    // General Perms\n    embed.addField(`➢ __General Permissions:__`, stripIndents `\n    \\`Administrator\\`| ${no}\n    \\`View Audit Logs\\`| ${(infoMem.permissions.has('VIEW_AUDIT_LOG') ? yes : no)}\n    \\`Manage Server\\`| ${(infoMem.permissions.has('MANAGE_GUILD') ? yes : no)}\n    \\`Manage Roles\\`| ${(infoMem.permissions.has('MANAGE_ROLES') ? yes : no)}\n    \\`Manage Channels\\`| ${(infoMem.permissions.has('MANAGE_CHANNELS') ? yes : no)}\n    \\`Kick Members\\`| ${(infoMem.permissions.has('KICK_MEMBERS') ? yes : no)}\n    \\`Ban Members\\`| ${(infoMem.permissions.has('BAN_MEMBERS') ? yes : no)}\n    \\`Create Invite\\`| ${(infoMem.permissions.has('CREATE_INSTANT_INVITE') ? yes : no)}\n    \\`Change Nickname\\`| ${(infoMem.permissions.has('CHANGE_NICKNAME') ? yes : no)}\n    \\`Manage Nicknames\\`| ${(infoMem.permissions.has('MANAGE_NICKNAMES') ? yes : no)}\n    \\`Manage Emojis\\`| ${(infoMem.permissions.has('MANAGE_EMOJIS') ? yes : no)}\n    \\`Manage Webhooks\\` ${(infoMem.permissions.has('MANAGE_WEBHOOKS') ? yes : no)}\n    `, true);\n\n    // Text Perms\n    embed.addField(`➢ __Text Permissions:__`, stripIndents `\n    \\`Read Messages\\`| ${(infoMem.permissions.has('READ_MESSAGES') ? yes : no)}\n    \\`Send Messages\\`| ${(infoMem.permissions.has('SEND_MESSAGES') ? yes : no)}\n    \\`Send TTS Messages\\`| ${(infoMem.permissions.has('SEND_TTS_MESSAGES') ? yes : no)}\n    \\`Manage Messages\\`| ${(infoMem.permissions.has('MANAGE_MESSAGES') ? yes : no)}\n    \\`Embed Links\\`| ${(infoMem.permissions.has('EMBED_LINKS') ? yes : no)}\n    \\`Attach Files\\`| ${(infoMem.permissions.has('ATTACH_FILES') ? yes : no)}\n    \\`Read Message History\\`| ${(infoMem.permissions.has('READ_MESSAGE_HISTORY') ? yes : no)}\n    \\`Mention Everyone\\`| ${(infoMem.permissions.has('MENTION_EVERYONE') ? yes : no)}\n    \\`Use External Emojis\\`| ${(infoMem.permissions.has('USE_EXTERNAL_EMOJIS') ? yes : no)}\n    \\`Add Reactions\\`| ${(infoMem.permissions.has('ADD_REACTIONS') ? yes : no)}\n    `, true);\n\n    // Voice Perms\n    embed.addField(`➢ __Voice Permissions:__`, stripIndents `\n    \\`Connect\\`| ${(infoMem.permissions.has('CONNECT') ? yes : no)}\n    \\`Speak\\`| ${(infoMem.permissions.has('SPEAK') ? yes : no)}\n    \\`Mute Members\\`| ${(infoMem.permissions.has('MUTE_MEMBERS') ? yes : no)}\n    \\`Deafen Members\\`| ${(infoMem.permissions.has('DEAFEN_MEMBERS') ? yes : no)}\n    \\`Move Members\\`| ${(infoMem.permissions.has('MOVE_MEMBERS') ? yes : no)}\n    \\`Use Voice Activity\\`| ${(infoMem.permissions.has('USE_VAD') ? yes : no)}\n    \\`Priority Speaker\\`| ${(infoMem.permissions.has('PRIORITY_SPEAKER') ? yes : no)}\n    `, true);\n\n    msg.channel.send(embed);\n}",
      "storage": "0",
      "varName": "",
      "name": "Run Script"
    }
  ]
}